<!DOCTYPE html>
<html>
<head>
  <title>Test iframes for PS5</title>
  <meta charset="utf-8" />
</head>
<body>
    <h1>Top page</h1>
    <div id="focus"></div>
    <div id="keys"></div>
  <input type="text" />
    <script>
        document.addEventListener('keydown', function(e) {
            var keys = document.querySelector('#keys')
            keys.innerHTML = 'keyCode: ' + e.keyCode + ', key: ' + e.key;            
        });
        
        window.setInterval(function() {
            var focus = document.querySelector('#focus')
            focus.innerHTML = document.activeElement ? document.activeElement.tagName : document.activeElement;
        }, 500);
    </script>
    <iframe src="https://vvideo.github.io/test-iframe/iframe1.html?r=1" width="100%" height="700"></iframe>
  <script>
    window.addEventListener('load', function() {
//         window.iframe1 = document.querySelector('iframe');
//         window.iframeInput1 = iframe1.contentWindow.document.querySelector('input');
//         window.iframe2 = iframe1.contentWindow.document.querySelector('iframe');
//         window.iframeInput2 = iframe2.contentWindow.document.querySelector('input');
//         window.iframe3 = iframe2.contentWindow.document.querySelector('iframe');
//         window.iframeInput3 = iframe3.contentWindow.document.querySelector('input');
      
      function setFocusOnIframe(iframe) {
        var input = iframe.contentWindow.document.createElement('input');
        input.type = 'text';
        var body = iframe.contentWindow.document.body;
        body.appendChild(input);
        input.focus();
        body.removeChild(input);
      }
      
      window.setFocusOnIframe1 = function() {
        setFocusOnIframe(iframe1);
      }
      
      window.setFocusOnIframe2 = function() {
        setFocusOnIframe(iframe2);
      }      
      
      window.setFocusOnIframe3 = function() {
        setFocusOnIframe(iframe3);
      }            
    });
  </script>
</body>
</html>
